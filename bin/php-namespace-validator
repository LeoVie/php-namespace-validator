#!/usr/bin/env php
<?php

require __DIR__ . DIRECTORY_SEPARATOR . '..' . DIRECTORY_SEPARATOR . 'vendor' . DIRECTORY_SEPARATOR . 'autoload.php';

use Symfony\Component\Console\Application;

$kernel = new \LeoVie\PhpNamespaceValidator\AppKernel('dev', true);
$kernel->boot();

$container = $kernel->getContainer();
$application = $container->get(Application::class);

$configurationFile = __DIR__ . DIRECTORY_SEPARATOR . '..' . DIRECTORY_SEPARATOR . 'php-namespace-validator.json';

$phpNamespaceValidator = new \LeoVie\PhpNamespaceValidator\Command\PhpNamespaceValidatorCommand(null, realpath($configurationFile));

$application->add($phpNamespaceValidator);

$application->setDefaultCommand($phpNamespaceValidator->getName(), true);

$application->run();